# ECKWMS Go Backend

Go backend –¥–ª—è ECKWMS (E-Commerce Warehouse Management System). –ü–µ—Ä–µ–ø–∏—Å–∞–Ω–Ω—ã–π —Å Node.js –Ω–∞ Go –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
eckwmsgo/
‚îú‚îÄ‚îÄ cmd/
‚îÇ   ‚îî‚îÄ‚îÄ api/
‚îÇ       ‚îî‚îÄ‚îÄ main.go              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config.go            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–∑ .env
‚îÇ   ‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ database.go          # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL (GORM)
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.go              # –ú–æ–¥–µ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ warehouse.go         # –ú–æ–¥–µ–ª–∏ —Å–∫–ª–∞–¥–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ item.go              # –ú–æ–¥–µ–ª–∏ —Ç–æ–≤–∞—Ä–æ–≤/–∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ rma.go               # –ú–æ–¥–µ–ª–∏ RMA
‚îÇ   ‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ router.go            # HTTP —Ä–æ—É—Ç–µ—Ä
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.go              # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ rma.go               # RMA endpoints
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ warehouse.go         # –°–∫–ª–∞–¥ endpoints
‚îÇ   ‚îú‚îÄ‚îÄ middleware/              # Middleware (TODO)
‚îÇ   ‚îú‚îÄ‚îÄ services/                # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (TODO)
‚îÇ   ‚îî‚îÄ‚îÄ utils/                   # –£—Ç–∏–ª–∏—Ç—ã (TODO)
‚îú‚îÄ‚îÄ pkg/                         # –ü—É–±–ª–∏—á–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
‚îú‚îÄ‚îÄ .env                         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ go.mod                       # Go –º–æ–¥—É–ª—å
‚îî‚îÄ‚îÄ eckwmsgo.exe                 # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫
```

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Go 1.25.5+** (—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
- **PostgreSQL** (—Ç–∞ –∂–µ –±–∞–∑–∞ —á—Ç–æ –∏ –¥–ª—è Node.js –≤–µ—Ä—Å–∏–∏)
- **Frontend** –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ `../eckwms` (React SPA)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –°–∫–ª–æ–Ω–∏—Ä—É–π –æ–±–∞ –ø—Ä–æ–µ–∫—Ç–∞:
```bash
cd /path/to/projects
git clone <eckwms-repo>      # Node.js –ø—Ä–æ–µ–∫—Ç —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º
git clone <eckwmsgo-repo>    # Go backend (—ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç)
```

2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å:
```
projects/
‚îú‚îÄ‚îÄ eckwms/          # Node.js –ø—Ä–æ–µ–∫—Ç (–æ—Å—Ç–∞–µ—Ç—Å—è –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞)
‚îÇ   ‚îú‚îÄ‚îÄ public/      # React —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (—Å—Ç–∞—Ç–∏–∫–∞)
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ eckwmsgo/        # Go backend (—ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç)
    ‚îú‚îÄ‚îÄ cmd/
    ‚îú‚îÄ‚îÄ internal/
    ‚îî‚îÄ‚îÄ ...
```

3. –ù–∞—Å—Ç—Ä–æ–π `.env` –≤ `eckwmsgo/`:
```bash
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π .env —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ë–î
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)

```env
# Database (—Ç–∞ –∂–µ —á—Ç–æ –≤ Node.js –≤–µ—Ä—Å–∏–∏)
PG_DATABASE=inbody_ai_support
PG_USERNAME=inbody_user
PG_PASSWORD=your_password
PG_HOST=localhost
PG_PORT=5432

# JWT Secret
JWT_SECRET=your_jwt_secret_here

# Server
PORT=3001                                    # Go —Å–µ—Ä–≤–µ—Ä –Ω–∞ –¥—Ä—É–≥–æ–º –ø–æ—Ä—Ç—É
FRONTEND_DIR=../eckwms/public               # –ü—É—Ç—å –∫ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

**–í–∞–∂–Ω–æ**: –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Go —Å–µ—Ä–≤–µ—Ä –∏—â–µ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –≤ `../eckwms/public`. –ï—Å–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ –¥—Ä—É–≥–∞—è, —É—Å—Ç–∞–Ω–æ–≤–∏ `FRONTEND_DIR`.

## –ó–∞–ø—É—Å–∫

### –í–∞—Ä–∏–∞–Ω—Ç 1: –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫
```bash
cd eckwmsgo
./eckwmsgo.exe
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ go run
```bash
cd eckwmsgo
go run ./cmd/api/main.go
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å
```bash
cd eckwmsgo
go build -o eckwmsgo.exe ./cmd/api
./eckwmsgo.exe
```

–°–µ—Ä–≤–µ—Ä —Å—Ç–∞—Ä—Ç—É–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É `3001` (–∏–ª–∏ —É–∫–∞–∑–∞–Ω–Ω–æ–º –≤ `PORT`).

## API Endpoints

### Health Check
- `GET /health` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞

### Authentication
- `POST /auth/login` - –í—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /auth/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `POST /auth/logout` - –í—ã—Ö–æ–¥

### RMA Management
- `GET /rma` - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö RMA
- `POST /rma` - –°–æ–∑–¥–∞—Ç—å RMA
- `GET /rma/{id}` - –ü–æ–ª—É—á–∏—Ç—å RMA –ø–æ ID
- `PUT /rma/{id}` - –û–±–Ω–æ–≤–∏—Ç—å RMA
- `DELETE /rma/{id}` - –£–¥–∞–ª–∏—Ç—å RMA

### Warehouse Management
- `GET /api/warehouse` - –°–ø–∏—Å–æ–∫ —Å–∫–ª–∞–¥–æ–≤
- `POST /api/warehouse` - –°–æ–∑–¥–∞—Ç—å —Å–∫–ª–∞–¥
- `GET /api/warehouse/{id}` - –ü–æ–ª—É—á–∏—Ç—å —Å–∫–ª–∞–¥ –ø–æ ID

### Inventory Management
- `GET /api/items` - –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤
- `POST /api/items` - –°–æ–∑–¥–∞—Ç—å —Ç–æ–≤–∞—Ä
- `GET /api/items/{id}` - –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–≤–∞—Ä –ø–æ ID

### Static Files
- `GET /*` - –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –∏–∑ `../eckwms/public`

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
```bash
go get -u package-name
go mod tidy
```

### –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
go get -u ./...
go mod tidy
```

### –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
```bash
go test ./...
```

### –ö–æ–º–ø–∏–ª—è—Ü–∏—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞
```bash
# Windows
go build -ldflags="-s -w" -o eckwmsgo.exe ./cmd/api

# Linux
GOOS=linux GOARCH=amd64 go build -ldflags="-s -w" -o eckwmsgo ./cmd/api
```

## –ú–∏–≥—Ä–∞—Ü–∏—è —Å Node.js

### –ß—Ç–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ ‚úÖ
- ‚úÖ Database models (GORM –≤–º–µ—Å—Ç–æ Sequelize)
- ‚úÖ HTTP server (Gorilla Mux –≤–º–µ—Å—Ç–æ Express)
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (.env)
- ‚úÖ CRUD endpoints –¥–ª—è RMA, Warehouse, Items
- ‚úÖ –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Ñ–∞–π–ª–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä

### TODO / –ù–µ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ üöß
- [ ] JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è/–≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤)
- [ ] Bcrypt –¥–ª—è –ø–∞—Ä–æ–ª–µ–π
- [ ] Authorization middleware (RBAC)
- [ ] –°–µ—Å—Å–∏–∏
- [ ] i18n/–ø–µ—Ä–µ–≤–æ–¥—ã
- [ ] WebSocket –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- [ ] PDF –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- [ ] QR –∫–æ–¥—ã
- [ ] Google OAuth
- [ ] AI/LLM —Å–µ—Ä–≤–∏—Å—ã
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ª–æ–≥–∏—Å—Ç–∏–∫–æ–π

### –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

–ú–æ–∂–µ—à—å –∑–∞–ø—É—Å—Ç–∏—Ç—å –æ–±–∞ —Å–µ—Ä–≤–µ—Ä–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ:

```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1: Node.js (–ø–æ—Ä—Ç 3000)
cd eckwms
npm run start:local

# –¢–µ—Ä–º–∏–Ω–∞–ª 2: Go (–ø–æ—Ä—Ç 3001)
cd eckwmsgo
./eckwmsgo.exe
```

–û–±–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–Ω—É –ë–î, –º–æ–∂–µ—à—å —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É.

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Go –≤–µ—Ä—Å–∏–∏

| –ê—Å–ø–µ–∫—Ç | Node.js | Go |
|--------|---------|-----|
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –•–æ—Ä–æ—à–æ | –û—Ç–ª–∏—á–Ω–æ |
| –ü–∞–º—è—Ç—å | –ë–æ–ª—å—à–µ | –ú–µ–Ω—å—à–µ |
| –¢–∏–ø–∏–∑–∞—Ü–∏—è | –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è | –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è |
| –ö–æ–º–ø–∏–ª—è—Ü–∏—è | JIT | AOT (native) |
| –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å | Event loop | Goroutines |
| –î–µ–ø–ª–æ–π | Node.js + deps | –û–¥–∏–Ω –±–∏–Ω–∞—Ä–Ω–∏–∫ |

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- `gorm.io/gorm` - ORM –¥–ª—è PostgreSQL
- `gorm.io/driver/postgres` - PostgreSQL –¥—Ä–∞–π–≤–µ—Ä
- `github.com/gorilla/mux` - HTTP —Ä–æ—É—Ç–µ—Ä
- `github.com/joho/godotenv` - .env loader
- `gorm.io/datatypes` - JSON –∏ –¥—Ä—É–≥–∏–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

## Troubleshooting

### –§—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
–ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ:
1. –ü–∞–ø–∫–∞ `../eckwms/public` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ `eckwmsgo/`
2. –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏ `FRONTEND_DIR` –≤ `.env`:
   ```
   FRONTEND_DIR=/absolute/path/to/eckwms/public
   ```

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
–ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ:
1. PostgreSQL –∑–∞–ø—É—â–µ–Ω
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `.env` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

### –ü–æ—Ä—Ç –∑–∞–Ω—è—Ç
–ò–∑–º–µ–Ω–∏ `PORT` –≤ `.env`:
```
PORT=3001
```

## Contributing

1. Fork –ø—Ä–æ–µ–∫—Ç
2. –°–æ–∑–¥–∞–π feature branch (`git checkout -b feature/amazing`)
3. Commit –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add amazing feature'`)
4. Push –≤ branch (`git push origin feature/amazing`)
5. –û—Ç–∫—Ä–æ–π Pull Request

## License

MIT
